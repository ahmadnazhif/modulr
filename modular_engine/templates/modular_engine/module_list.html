{% extends 'base.html' %}

{% block content %}
<h1>My Modules</h1>
<ul>
    {% for module in modules %}
        {% with module.slug|add:"_list" as template_list %}
        <li>
            {% if module.is_installed %}
            <a href="{% url template_list %}">{{ module.name }}</a> - <a href="{% url 'module_uninstall' module.slug %}">Uninstall</a>
                {% if module.needs_upgrade %}
                - <a href="{% url 'module_upgrade' module.slug %}">Upgrade</a>
                {% endif %}
            {% else %}
            {{ module.name }} - <a href="{% url 'module_install' module.slug %}">Install</a>
            {% endif %}
        </li>
        {% endwith %}
    {% endfor %}
</ul>
{% endblock %}
